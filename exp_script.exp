# my_script.exp

set executable [lindex $argv 0]
set command_file [lindex $argv 1]

spawn $executable

set fp [open $command_file r]
expect "*"
after 1
while {[gets $fp line] >= 0} {
    send "$line\r"
    expect "*" {}
    after 5
}
close $fp

expect eof
